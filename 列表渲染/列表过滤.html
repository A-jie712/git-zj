<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/vue.js"></script>
</head>
<body>
        <div id="app">
            <input type="text" v-model="msg">
            <ul>
                <li v-for="p in per">
                    {{p.name}}--{{p.age}}
                </li>
            </ul>
        </div>
        <script>
            Vue.config.productionTip = false
            new Vue({
                el:"#app",
                data:{
                    persons:[
                        {id:"001",name:"张三",age:18},
                        {id:"002",name:"李四",age:19},
                        {id:"003",name:"张五",age:20},
                        {id:"004",name:"刘三",age:20}
                    ],
                    msg:'',
                    per:[]
                },
                watch:{
                    msg:{
                        immediate:true,
                        handler(newVal){
                            this.per = this.persons.filter(function (newv){
                                return  newv.name.indexOf(newVal)!=-1 || newv.age==newVal
                            })
                        }
                    }
                }
            })
        </script>
</body>
</html>